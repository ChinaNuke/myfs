# 设计任务要求和设计目标

## 设计任务

设计基于磁盘存储设备的UNIX文件系统。

- 首先分配一定容量的磁盘存储空间，作为文件存储空间；
- 建立相应的文件系统，使用 UNIX 文件系统，使用索引结点、混合分配方式、成组链接方法管理存储空间；
- 解决文件的重名、共享和安全控制；
- 支持文件的`按名存取`；
- 为该文件系统设计相应的数据结构来管理目录、磁盘空闲空间、已分配空间等；
- 提供文件的创建、删除、移位、改名等功能；
- 提供良好的界面,可以显示磁盘文件系统的状态和空间的使用情况；
- 提供虚拟磁盘转储功能，可将信息存入磁盘，还可从磁盘读入内存。

## 设计目标

整个程序组织成分层次的模块化结构，以降低耦合度，提高内聚度。计划实现的目标功能如下：

1. `磁盘` 的选择，即采用什么作为文件系统所使用的磁盘：

   - 使用一个文件来模拟磁盘，如 `mydisk.fs`
   - 电脑上实际挂载的机械硬盘

   为简化问题，我们首先考虑使用文件来模拟磁盘，但在设计时也注意进行适当的抽象，使得我们所设计的文件系统可以很方便的扩展到实际挂载的磁盘上。

   应对磁盘（文件）提供挂载、删除、读入指定位置的内容、向指定位置写入内容等操作（通过fopen、fseek、fread、fwrite等实现）。

2. 文件系统核心程序设计

   核心程序即为所设计的文件系统，暂时命名为 `myfs` ，原则上这部分内容全部使用 `C语言` 编写，并且尽量都使用底层的调用。

   根据题目要求，我们参照《计算机操作系统（第四版）》（以下简称课本），对核心程序作以下考虑：

   

3. 演示程序设计

   演示程序目前有两种考虑方案：

   - 实现一个类似于Linux的 `shell命令行` ，包含 cd、pwd、ls、mkdir、mv 等命令
   - 实现一个类似桌面系统中 `文件资源管理器` 的GUI程序，可以在右键菜单中实现新建文件、新建文件夹、重命名、复制、移动等操作，上方显示当前路径，左侧显示目录树

# 参考资料

[CSDN: Unix文件系统基本概述](https://blog.csdn.net/pl20140910/article/details/80298312)

[CSDN: 简单介绍Linux文件系统中superblock、inode、dentry、file](https://blog.csdn.net/ygtlovezf/article/details/69390043)

[Linux 深入理解inode/block/superblock](https://www.cnblogs.com/machangwei-8/p/10354451.html)